<%#
=====================================================================================================
_data/json-ld/LocalBusiness
=====================================================================================================
%>
<% if (LocalBusiness) {
	var objId = LocalBusiness;
	if (objId instanceof Array) {
		var objArrayId = objId;
	}
} %>
<%# ---------------------------------------------------------------------------------------------- %>
<% if (objArrayId) { %>
	<% objArrayId.forEach(function(key, index) { %>
		{
			"@context": "http://schema.org",
			<% var obj = data.schema.LocalBusiness[key] %>
			<% var objArray = Object.keys(obj) %>
			<% objArray.forEach(function(key, index) { %>
				"<%- key %>": <% schemaValue(obj, key) %>
				<% if( index != objArray.length - 1 ){ %>
				,
				<% } %>
			<% }) %>
		}
		<% if( index != objArray.length - 1 ){ %>
		,
		<% } %>
	<% }) %>
<% } else { %>
	"@context": "http://schema.org",
	<% var obj = data.schema.LocalBusiness[objId] %>
	<% var objArray = Object.keys(obj) %>
	<% objArray.forEach(function(key, index) { %>
		"<%- key %>": <% schemaValue(obj, key) %>
		<% if( index != objArray.length - 1 ){ %>
		,
		<% } %>
	<% }) %>
<% } %>
<%# ---------------------------------------------------------------------------------------------- %>
<% function schemaValue(obj, key) { %>
	<% var obj = obj[key]; %>
	<% var objArray = Object.keys(obj); %>
	<% if (Object.prototype.toString.call(obj) === '[object Object]') { %>
		{
			<% objArray.forEach(function(key, index) { %>
				"<%- key %>": <% schemaValue(obj, key) %>
				<% if( index != objArray.length - 1 ){ %>
				,
				<% } %>
			<% }) %>
		}
	<% } else if (Object.prototype.toString.call(obj) === '[object Array]') { %>
		[
			<% objArray.forEach(function(key, index) { %>
				"<%- obj[key] %>"
				<% if( index != objArray.length - 1 ){ %>
				,
				<% } %>
			<% }) %>
		]
	<% } else { %>
		"<%- obj %>"
		<% return %>
	<% } %>
<% } %>
